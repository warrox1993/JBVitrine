:root {
    /* Colors */
    --color-bg-1: hsl(250, 30%, 8%);
    --color-bg-2: hsl(250, 25%, 12%);
    --color-bg-3: hsl(250, 20%, 18%);
    --color-surface: hsl(250, 20%, 15%);
    --color-surface-glass: hsla(250, 20%, 20%, 0.6);
    --color-accent-1: hsl(280, 70%, 60%);
    --color-accent-2: hsl(320, 70%, 65%);
    --color-accent-3: hsl(260, 65%, 55%);
    --color-text-1: hsl(250, 15%, 95%);
    --color-text-2: hsl(250, 10%, 80%);
    --color-text-3: hsl(250, 8%, 55%);
    --color-border: hsla(250, 20%, 30%, 0.3);
    --color-glow: hsla(280, 70%, 60%, 0.4);

    /* Spacing */
    --space-1: 0.25rem; --space-2: 0.5rem; --space-3: 1rem; --space-4: 1.5rem;
    --space-5: 2.5rem; --space-6: 4rem; --space-7: 6.5rem; --space-8: 10rem;

    /* Radius */
    --radius-sm: 0.375rem; --radius-md: 0.75rem; --radius-lg: 1.25rem; --radius-xl: 2rem; --radius-full: 9999px;

    /* Shadows */
    --shadow-sm: 0 1px 2px hsla(250, 30%, 5%, 0.15);
    --shadow-md: 0 4px 12px hsla(250, 30%, 5%, 0.25);
    --shadow-lg: 0 12px 40px hsla(250, 30%, 5%, 0.35);
    --shadow-glow: 0 0 40px var(--color-glow);

    /* Typography */
    --text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
    --text-sm: clamp(0.875rem, 0.8rem + 0.35vw, 1rem);
    --text-base: clamp(1rem, 0.95rem + 0.25vw, 1.125rem);
    --text-lg: clamp(1.125rem, 1rem + 0.5vw, 1.375rem);
    --text-xl: clamp(1.375rem, 1.2rem + 0.75vw, 1.75rem);
    --text-2xl: clamp(1.75rem, 1.5rem + 1vw, 2.25rem);
    --text-3xl: clamp(2.25rem, 1.75rem + 2vw, 3.5rem);
    --text-4xl: clamp(3rem, 2rem + 4vw, 5rem);

    /* Container */
    --container-max: 1440px;
    --container-padding: clamp(1.5rem, 5vw, 6rem);

    /* Motion */
    --ease-standard: cubic-bezier(.2,.6,.2,1);
    --dur-1: 120ms; --dur-2: 180ms; --dur-3: 240ms;
    --transition-fast: all 0.25s ease;
    --transition-base: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
    margin: 0;
    font-family: var(--font-base);
    font-size: var(--text-base);
    line-height: 1.55;
    color: var(--color-text-1);
    background:
            radial-gradient(1200px 800px at 20% -10%, var(--color-bg-2), transparent 60%),
            radial-gradient(1000px 600px at 120% 10%, var(--color-bg-3), transparent 55%),
            var(--color-bg-1);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
h1,h2,h3,h4 { font-family: var(--font-display); letter-spacing: -0.01em; margin: 0; }
a { color: var(--color-text-2); text-decoration: none; }
a:hover { color: var(--color-text-1); text-decoration: underline; }
::selection { background: color-mix(in oklab, var(--color-accent-1), transparent 60%); }

.container { max-width: var(--container-max); margin: 0 auto; padding-inline: var(--container-padding); }
.surface {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
}
.glass {
    background: var(--color-surface-glass);
    backdrop-filter: blur(8px);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
}

:focus-visible { outline: none; box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-accent-1), transparent 70%); }
@media (prefers-reduced-motion: reduce) { * { animation: none !important; transition: none !important; } }

/* Light mode support */
[data-theme="light"] {
  --color-bg-1: hsl(250, 30%, 98%);
  --color-bg-2: hsl(250, 25%, 95%);
  --color-bg-3: hsl(250, 20%, 90%);
  --color-surface: hsl(250, 20%, 96%);
  --color-surface-glass: hsla(250, 20%, 98%, 0.8);
  --color-surface-elevated: hsl(0,0%,100%);
  --color-text-1: hsl(250, 30%, 10%);
  --color-text-2: hsl(250, 20%, 30%);
  --color-text-3: hsl(250, 15%, 50%);
  --color-border: hsla(250, 20%, 20%, 0.15);
  --color-border-hover: hsla(250, 20%, 20%, 0.25);
  --color-shadow: hsla(250, 20%, 10%, 0.1);
}

/* High contrast preference */
@media (prefers-contrast: more) {
  :root { --color-text-2: var(--color-text-1); --color-border: hsla(250, 20%, 30%, 0.5); }
}

/* Utilities */
.sr-only { position: absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip: rect(0,0,0,0); white-space:nowrap; border-width:0; }
.glass-strong { background: hsla(250, 20%, 20%, 0.8); backdrop-filter: blur(30px) saturate(200%); -webkit-backdrop-filter: blur(30px) saturate(200%); border: 1px solid var(--color-border-hover); }
.gradient-text { background: linear-gradient(135deg, var(--color-accent-1), var(--color-accent-2)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.gradient-border { position: relative; border: 1px solid transparent; background-clip: padding-box; }
.gradient-border::before { content:''; position:absolute; inset:0; border-radius:inherit; padding:1px; background: linear-gradient(135deg, var(--color-accent-1), var(--color-accent-2)); -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); -webkit-mask-composite: xor; mask-composite: exclude; pointer-events:none; }
.section { content-visibility: auto; contain-intrinsic-size: auto 500px; }
.gpu-accelerated { transform: translateZ(0); will-change: transform; backface-visibility: hidden; perspective: 1000px; }
.mobile-hidden { display:none !important; }
@media (min-width: 769px){ .desktop-hidden { display:none !important; } .mobile-hidden { display: initial !important; } }

/* Print styles */
@media print {
  body { background: white; color: black; }
  .no-print { display:none !important; }
  a { text-decoration: underline; }
  a[href^="http"]::after { content: " (" attr(href) ")"; font-size: .8em; }
}

/* Scrollbar styling */
::-webkit-scrollbar { width: 12px; height: 12px; }
::-webkit-scrollbar-track { background: var(--color-bg-2); }
::-webkit-scrollbar-thumb { background: var(--color-surface); border-radius: var(--radius-full); border: 3px solid var(--color-bg-2); }
::-webkit-scrollbar-thumb:hover { background: var(--color-accent-1); }
* { scrollbar-width: thin; scrollbar-color: var(--color-surface) var(--color-bg-2); }

/* Selection */
::selection { background: var(--color-accent-1); color: white; }
::-moz-selection { background: var(--color-accent-1); color:white; }

/* Skeleton */
@keyframes skeleton-loading { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
.skeleton { background: linear-gradient(90deg, var(--color-surface) 0%, var(--color-surface-elevated, var(--color-surface)) 50%, var(--color-surface) 100%); background-size: 200% 100%; animation: skeleton-loading 1.5s ease-in-out infinite; border-radius: var(--radius-md); }

/* Sidebar + Header (CSS-only hover behavior) */
.sidebar {
  position: fixed; top: 0; left: 0; bottom: 0;
  width: 80px;
  background: var(--color-bg-2);
  border-right: 1px solid var(--color-border);
  transition: width 0.3s cubic-bezier(.4, 0, .2, 1), background-color 0.2s ease;
  overflow: hidden;
  z-index: 300;
  will-change: width, transform;
}
.sidebar:hover { width: 240px; }

.sidebar-brand { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-4) var(--space-3); border-bottom: 1px solid var(--color-border); }
.sidebar-icon { width: 40px; height: 40px; border-radius: 10px; background: linear-gradient(135deg, var(--color-accent-1), var(--color-accent-2)); display: grid; place-items: center; color: white; font-weight: 700; }
.sidebar-brand-text { opacity: 0; transform: translateX(-8px); transition: all 0.3s; white-space: nowrap; font-weight: 700; font-family: var(--font-display); }
.sidebar:hover .sidebar-brand-text { opacity: 1; transform: translateX(0); }

.sidebar-nav { display: flex; flex-direction: column; padding: var(--space-3) 0; gap: 4px; }
.sidebar-link { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-3) var(--space-4); color: var(--color-text-2); text-decoration: none; border-radius: var(--radius-md); transition: background 0.2s, color 0.2s; }
.sidebar-link:hover { background: var(--color-bg-3); color: var(--color-text-1); }
.sidebar-link-icon { width: 24px; height: 24px; flex: 0 0 auto; }
.sidebar-link-text { opacity: 0; transform: translateX(-8px); transition: all 0.2s; white-space: nowrap; }
.sidebar:hover .sidebar-link-text { opacity: 1; transform: translateX(0); }

header { position: sticky; top: 0; height: 64px; display: flex; align-items: center; gap: 24px; background: var(--color-bg-1); border-bottom: 1px solid var(--color-border); margin-left: 80px; transition: transform 0.3s cubic-bezier(.4, 0, .2, 1); z-index: 200; will-change: transform; }
.sidebar:hover ~ header, body.sidebar-hovered header { transform: translateX(160px); }

.header-nav { display: flex; align-items: center; gap: 40px; margin-left: auto; padding-inline: var(--container-padding); }
.header-link { color: var(--color-text-2); text-decoration: none; font-weight: 600; font-size: var(--text-sm); position: relative; transition: var(--transition-fast); }
.header-link:hover { color: var(--color-text-1); }
.header-link::after { content: ""; position: absolute; bottom: -4px; left: 0; width: 0; height: 2px; background: var(--color-accent-1); transition: width 0.3s ease; }
.header-link:hover::after { width: 100%; }

/* === Navbar Brand (moved from sidebar) === */
.navbar-brand { display: flex; align-items: center; gap: 16px; margin-right: auto; padding-inline: var(--container-padding); }
.navbar-icon { width: 32px; height: 32px; background: linear-gradient(135deg, var(--color-accent-1), var(--color-accent-2)); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 18px; flex-shrink: 0; color: #fff; }
.navbar-text { font-weight: 700; font-size: 20px; color: var(--color-text-1); white-space: nowrap; font-family: var(--font-display); }

main { margin-left: 80px; transition: transform 0.3s cubic-bezier(.4, 0, .2, 1); will-change: transform; }
.sidebar:hover ~ main, body.sidebar-hovered main { transform: translateX(160px); }

footer { margin-left: 0; }

/* Services ordering */
.services-grid > .service-dev { order: 2; }
.services-grid > .service-cyber { order: 1; }
.services-grid > .service-auto { order: 3; }

/* Noise Overlay */
.noise-overlay::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.8' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 2;
}

/* Animations */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes rotate-gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 0.8; }
}

.animate-in { animation: fadeInUp 0.8s ease-out forwards; }
