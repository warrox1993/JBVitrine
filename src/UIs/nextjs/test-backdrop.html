<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Backdrop Filter</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #000;
            color: #fff;
        }

        .content {
            padding: 200px 40px 2000px 40px;
            background: linear-gradient(180deg, #ff6a35, #ff8c42, #ffa500, #ff6a35);
        }

        .content h1 {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .content p {
            font-size: 24px;
            line-height: 1.8;
            margin-bottom: 40px;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            display: flex;
            align-items: center;
            padding: 0 40px;
            z-index: 9999;
            background: transparent;
        }

        /* Test 1: Background opaque seul */
        header.test-opaque::before {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 0;
        }

        /* Test 2: Backdrop filter seul */
        header.test-blur::before {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(50px);
            -webkit-backdrop-filter: blur(50px);
            z-index: 0;
        }

        /* Test 3: Combiné (notre approche) */
        header.test-combined::before {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 0;
        }

        header.test-combined::after {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(50px) saturate(200%);
            -webkit-backdrop-filter: blur(50px) saturate(200%);
            z-index: 0;
        }

        header nav {
            position: relative;
            z-index: 10;
            display: flex;
            gap: 40px;
        }

        header a {
            color: #fff;
            text-decoration: none;
            font-weight: 600;
        }

        .test-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 8px;
            z-index: 10000;
        }

        .test-controls button {
            display: block;
            width: 100%;
            margin-bottom: 10px;
            padding: 10px;
            background: #ff6a35;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
        }

        .test-controls button:hover {
            background: #ff8c42;
        }
    </style>
</head>
<body>
    <header id="header" class="test-combined">
        <nav>
            <a href="#">Accueil</a>
            <a href="#">Services</a>
            <a href="#">À propos</a>
            <a href="#">Contact</a>
        </nav>
    </header>

    <div class="content">
        <h1>Test de Backdrop Filter</h1>
        <p>Scrollez pour voir l'effet de flou sur le header.</p>
        <p>Ce texte coloré devrait être flouté et difficile à lire quand il passe sous le header.</p>
        <p>Si vous voyez clairement les couleurs et le texte à travers le header, c'est que backdrop-filter ne fonctionne pas correctement.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
        <p>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>

    <div class="test-controls">
        <h3 style="margin-top: 0;">Tests:</h3>
        <button onclick="setTest('test-opaque')">1. Opaque seul</button>
        <button onclick="setTest('test-blur')">2. Blur seul</button>
        <button onclick="setTest('test-combined')">3. Combiné</button>
    </div>

    <script>
        function setTest(className) {
            const header = document.getElementById('header');
            header.className = className;
        }
    </script>
</body>
</html>
